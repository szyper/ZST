<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ObsÅ‚uga zdarzenia submit</title>
</head>
<body>
    <h2>Formularz rejestracyjny</h2>
    <form id="myForm">
        <label>
            Imie:
            <input type="text" id="name">
        </label><br><br>

        <label>
            Email:
            <input type="email" id="email">
        </label><br><br>

        <label>
            HasÅ‚o:
            <input type="password" id="password">
        </label><br><br>

        <label>
            PotwierdÅº hasÅ‚o:
            <input type="password" id="confirmPassword">
        </label><br><br>

        <button type="submit">WyÅ›lij</button>
    </form>

    <p id="message"></p>

    <script>
        const form = document.getElementById("myForm");
        const message = document.getElementById("message");

        // dodanie nasÅ‚uchiwania na zdarzenie "submit" (wysÅ‚anie formularza)
        form.addEventListener("submit", function(event){
            // zatrzymanie domyÅ›lnego zachowania formularza, czyli wysÅ‚Ä…nia danych i przeÅ‚Ä…dowania strony
            event.preventDefault();

            // pobranie wartoÅ›ci wpisanej w pole tekstowe o id "name"
            const name = document.getElementById("name").value;

            // pobranie wartoÅ›ci wpisanej w pole email o id "email"
            const email = document.getElementById("email").value;

            // == porÃ³wnanie luÅºne (porÃ³wnuje tylko wartoÅ›ci), === porÃ³wnanie Å›cisÅ‚e (porÃ³wnuje wartoÅ›ci i typy)
            // 0 == "0" true
            // "" == 0 true
            // false == 0 true
            // null == undefined true

            // 0 === "0" false
            // "" === 0 false
            // false == 0 false


            const password = document.getElementById("password").value;
            const confirmPassword = document.getElementById("confirmPassword").value;


            if (name === "" || email === "" || password === "" || confirmPassword === "") {
                // jeÅ›li jest tak - wyÅ›wietlenie komunikatu o bÅ‚Ä™dzie
                message.textContent = "â— UzupeÅ‚nij wszystkie pola!";
                message.style.color = "red";
                return;
            }

            // sprawdzenie, czy hasÅ‚a siÄ™ zgadzajÄ…
            if (password !== confirmPassword) {
                message.textContent = "â— HasÅ‚Ä… nie sÄ… zgodne!";
                message.style.color = "red";
                return;
            }

            // walidacja hasÅ‚a (min. 6 znakÃ³w, 1 maÅ‚a, 1 duÅ¼a, 1 cyfra, 1 znak specjalny)
            const passwordPattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{6,}$/;

            if (!passwordPattern.test(password)) {
                message.innerHTML = `â— HasÅ‚o musi zawieraÄ‡:<br>
                                     - Minimum 6 znakÃ³w<br>
                                     - Przynajmniej jednÄ… maÅ‚Ä… literÄ™<br>
                                     - Przynajmniej jednÄ… duÅ¼Ä… literÄ™<br>
                                     - Przynajmniej jednÄ… cyfrÄ™<br>
                                     - Przynajmniej jednÄ… znak specjalny`;
                message.style.color = "red";
                return;
            }

            // jeÅ›li oba pola sÄ… wypeÅ‚nione - wyÅ›wietlenie poprawnego komunikatu 
            // message.textContent = "ğŸ‘ Formularz poprawnie wypeÅ‚niony";

            message.innerHTML = `<strong>ğŸ‘ Formularz poprawnie wypeÅ‚niony</strong><br>
                                    <strong>ImiÄ™:</strong> ${name}<br>
                                    <strong>Email:</strong> ${email}<br>
                                    <strong>HasÅ‚o:</strong> ${password}`;

            message.style.color = "green";
            
            // wyczyszczenie formularza po wysÅ‚aniu
            form.reset();

        });

    </script>
</body>
</html>